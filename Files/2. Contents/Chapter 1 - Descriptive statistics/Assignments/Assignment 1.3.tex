%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Assignment 1.2: Descriptive statistics of larger data sets in R
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\rassignment{Assignment 1.3: Descriptive statistics of larger data sets in R}

For this assignment, you need the \dataset{bloodPressure.csv} data set that you can download from the online resources. This data set contains measurements of the age, blood pressure, cholesterol level, gender, and description of a random selection of people. It is normally used to look for relationships between these variables. Note that this is fake data and does not contain actual measurements. \\

Letâ€™s start with importing the data set (which is available in the online resources) into \texttt{R}. \\

\question{
    1.3 a
}{
    Inspect and run the following code in \texttt{R} to import the blood pressure data and store it in the object \rcode{dataset3}. Explain how the code works and describe what the \dataset{bloodPressure.csv} file contains.
}

\codeblock{dataset3 <- read.csv(file.choose())}
\twolineanswerbox{1.3a}

This method of importing data can be a lot of work if there are many files or if the script will be run many times. Faster methods exist though, for example by providing the full file path. \\

\question{
    1.3 b
}{
    Describe and test ways this code can be improved to make importing a file easier.
}

\hint{Hint 1.4: Look at Part I of the R help to find out more functions for importing data.}

\twolineanswerbox{1.3b} \\
\rcodeanswersmall{1.3b}

\clearpage % Page break

The functions you used for descriptive statistics on the small data sets in assignment 1.1 can also be applied to the data set that is currently stored in \rcode{dataset3}. \\

\question{
    1.3 c
}{
    Find the \concept{mean}, \concept{mode}, \concept{median}, \concept{range}, and \concept{quartiles} for the column \rcode{Age} in \rcode{dataset3}. Describe this variable in running text using these statistics.
}

\hint{Hint 1.5: First find out how to extract (index) a specific column in a data frame using the \rcode{\$} sign.}

\rcodeanswermedium{1.3c}
\fourlineanswerbox{1.3c}

For large data sets, it becomes a lot of work finding the \concept{mode} in a frequency table each time. It is possible to import a package into the \texttt{R} session that contains a function for calculating the \concept{mode} automatically. However, it is also possible to create a function that calculates the \concept{mode} ourselves. \\

Run the following lines of \texttt{R} code together: \\

\codeblock{getMode <- function(x)\{ \\
  \hspace*{10pt} uniqx <- unique(x) \\
  \hspace*{10pt} uniqx[which.max(tabulate(match(x, uniqx)))] \\
\}
}

You have now created your first \texttt{R} function and you will see it displayed separately in the \texttt{R} environment. This function will give you the \concept{mode} for any \textbf{numeric} vector or column. It works by first extracting all unique values, counting their frequency, and then selecting the value with the highest frequency. Note that you can use this function, but will not be required to understand or make functions like this. However, for the interested reader, part III of the R help contains more information on how to create your own functions. \\

\clearpage % Page break

\question{
    1.3 d
}{
    Use the new \rcode{getMode()} function to determine the \concept{mode} for column \rcode{Age} in \rcode{dataset3} and check if it is consistent with your answer for assignment 1.3c.
}

\rcodeanswertiny{1.3d}
\emptyanswerbox{
    1.3d
}{
    Mode: \shortanswerline
}

\question{
    1.3 e
}{
    Find the \concept{mean}, \concept{mode}, \concept{median}, \concept{range}, and \concept{quartiles} for the column \rcode{BloodPressure} in \rcode{dataset3}. Also use the new \rcode{getMode()} function.
}

\rcodeanswermedium{1.3e}
\emptyanswerbox{
    1.3e
}{
    Mean: \quad \shortanswerline \hspace{.5cm} \quad Range: \qquad \qquad \qquad \qquad \shortanswerline
            \answerbreak
            Mode: \quad \shortanswerline \hspace{.4cm} \quad Lower quartile: \qquad \quad \shortanswerline
            \answerbreak
            Median: \shortanswerline \hspace{.4cm} \quad Upper quartile: \qquad \quad \shortanswerline
}

\question{
    1.3 f
}{
    Is the distribution of the values in the \rcode{BloodPressure} column \concept{positively skewed} or \concept{negatively skewed}? Explain your answer using the relation between the \concept{mean}, \concept{median}, and \concept{mode}.
}

\emptyanswerbox{
1.1f
}{
These data sets are \textbf{positively} / \textbf{negatively} / \textbf{not} skewed.
\answerskip
Explanation:
\answerskip
\rule{\textwidth}{0.4pt}
\answerbreak
\rule{\textwidth}{0.4pt}
\answerbreak
\rule{\textwidth}{0.4pt}
}

\clearpage

\question{
    1.3 g
}{
    Determine the \concept{variance} and \concept{standard deviation} for the column \rcode{Cholestrol} in \rcode{dataset3}.
}

\rcodeanswersmall{1.3g}
\emptyanswerbox{
    1.3g
}{
    Variance: \qquad \qquad \qquad \shortanswerline
    \answerskip
    Standard deviation: \shortanswerline
}

\question{
    1.3 h
}{
    Validate the relation between the \concept{variance} and the \concept{standard deviation} by performing a calculation in \texttt{R}.
}

\rcodeanswertiny{1.3h}

\clearpage % Page break
